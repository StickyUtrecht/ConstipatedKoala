.panel.panel-default
  .panel-body
    %form.form-horizontal#mail{ :data => { 'id' => id }, :action => '', :method => :post }
      .form-group
        %label.col-md-2.hidden-xs{ :style => 'height: 34px; line-height: 34px;'} Geadresseerden
        .col-md-10.col-xs-12
          .row#recipients
            .col-md-8
              %input#bbc.form-control{:name => 'recipients', :type => 'text', :value => geadresseerden.map{ |recipient| "#{recipient.first_name} #{recipient.infix} #{recipient.last_name} <#{recipient.email}>"}.join(', ') }
            .col-md-4
              .ui-select
                %select.form-control{ :name => 'recipients', :style => 'width: 100%;'}
                  %option{ :value => 'all' } ALLE DEELNEMERS
                  %option{ :value => 'debtors', :selected => 'selected' } NOG BETALERS
                  %option{ :value => 'edited', :disabled => 'disabled' } AANGEPAST
      .form-group
        %label.col-md-2.hidden-xs{ :style => 'height: 34px; line-height: 34px;'} Onderwerp
        .col-md-10.col-xs-12
          %input#onderwerp.form-control{:name => 'subject', :type => 'text', :value => onderwerp }
          
      .ui-editor.ta-root.focussed
        .ta-toolbar.btn-toolbar.focussed
        
          .btn-group
            %button.btn.btn-default{name: 'h1', tabindex: '-1', type: 'button', unselectable: 'on'} H1
            %button.btn.btn-default{name: 'h2', tabindex: '-1', type: 'button', unselectable: 'on'} H2
            %button.btn.btn-default{name: 'h3', tabindex: '-1', type: 'button', unselectable: 'on'} H3
          
          .btn-group
            %button.btn.btn-default{name: 'p', tabindex: '-1', type: 'button', unselectable: 'on'} P
              
          .btn-group
            %button.btn.btn-default{name: 'bold', tabindex: '-1', type: 'button', unselectable: 'on'}
              %i.fa.fa-bold
            %button.btn.btn-default{name: 'italics', tabindex: '-1', type: 'button', unselectable: 'on'}
              %i.fa.fa-italic
            %button.btn.btn-default{name: 'underline', tabindex: '-1', type: 'button', unselectable: 'on'}
              %i.fa.fa-underline
          .btn-group
            %button.btn.btn-default{name: 'ul', tabindex: '-1', type: 'button', unselectable: 'on'}
              %i.fa.fa-list-ul
            %button.btn.btn-default{name: 'ol', tabindex: '-1', type: 'button', unselectable: 'on'}
              %i.fa.fa-list-ol
              
          .btn-group
            %button.btn.btn-default.active{name: 'justifyLeft', tabindex: '-1', type: 'button', unselectable: 'on'}
              %i.fa.fa-align-left
            %button.btn.btn-default{name: 'justifyCenter', tabindex: '-1', type: 'button', unselectable: 'on'}
              %i.fa.fa-align-center
            %button.btn.btn-default{name: 'justifyRight', tabindex: '-1', type: 'button', unselectable: 'on'}
              %i.fa.fa-align-right
              
          .btn-group
            %button.btn.btn-default{name: 'toggleHtml', tabindex: '-1', type: 'button', unselectable: 'on'} HTML
              
      -#text.form-control{ :contenteditable => 'true' }
      %textarea.form-control#text{ :name => 'mail', :rows => '8' }
        Hoi {first_name},
  
        Je bent onlangs meegeweest naar {name}. Deze activiteit kostte {price}.
        Zou je dit bedrag zo snel mogelijk willen overmaken naar IBAN NL61INGB0002877106 t.n.v. Studievereniging Sticky o.v.v. {first_name} {infix} {last_name} {name}? 
        Met vriendelijke groet,
        Martijn Casteel
  
      .callout.callout-info
        Je kunt het {email} adres, {first_name}, {infix}, {last_name}, en {price} gebruiken voor de geadresseerde.     
      
      .mail-actions
        %button.btn.btn-primary{type: 'submit'} Verstuur
        /.btn.btn-default Draft
        .btn.btn-default Annuleren
        
:javascript
  $(document).on('ready page:load', function(){
    
    $('form#mail').find('.ta-toolbar button').on('click', function(){
      var textarea = $('textarea#text');
    
      switch ( $(this).attr('name') ){
        default :
          alert('test');
          break;
      }
    });
  
  });
