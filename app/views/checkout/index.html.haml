- content_for(:page, 'checkout')
- content_for(:title, 'Constipated koala | checkout') 

%section#content
  = render 'layouts/search' 

  .page.page-table
    %section.panel.panel-default.table-dynamic
      .panel-heading
        %i.fa.fa-fw.fa-fw.fa-user
        Transacties
      .table-responsive
        %table.table.table-bordered.table-striped.table-linked
          %thead
            %tr
              %th
                .th
                  Datum
              %th
                .th
                  Prijs
              %th
                .th
                  Lid
              %th
                .th.hidden-xs
                  Kaart
                    
          - @transactions.each do |transaction|
            %tr
              %td #{I18n.l transaction.created_at}
              %td= number_to_currency(transaction.price, :unit => 'â‚¬')
              %td= link_to "#{transaction.checkout_card.member.name}", transaction.checkout_card.member  
              
              - if !transaction.checkout_card.nil?
                - if transaction.checkout_card.description.nil?  
                  %td.hidden-xs= transaction.checkout_card.uuid
                - else
                  %td.hidden-xs= transaction.checkout_card.description
           
      %footer.table-footer
        .row
          .col-md-6.page-num-info{ :data => { :limit => @limit, :pagination => @pagination } }
            %span
              Toon
              = select_tag 'limit', options_for_select([20,50,100], @limit)
              transacties per pagina
              
          .col-md-6.text-right.pagination-container
            %ul.pagination-sm.pagination
              %li{ :class => ( 'disabled' if @offset == 0)}
                %a{ :data => { :offset => @offset - @limit }} vorige
                
              %li.scroll{ :class => ( 'disabled' if @page / @pagination == 0)}
                %a{ :data => { :offset => (@page / @pagination * @pagination -1) * @limit }} <<
                
              - (0 .. @pages).each do |i|
                - if i == @page
                  %li.active
                    - if i.between?(@pagination * (@page / @pagination), @pagination * (@page / @pagination) + @pagination -1 )
                      %a{ :data => { :offset => @limit * i }}= i+1
                    -else 
                      %a.hidden{ :data => { :offset => @limit * i }}= i+1
                - else
                  %li
                    - if i.between?(@pagination * (@page / @pagination), @pagination * (@page / @pagination) + @pagination -1 )
                      %a{ :data => { :offset => @limit * i }}= i+1    
                    - else
                      %a.hidden{ :data => { :offset => @limit * i }}= i+1    

              %li.scroll{ :class => ( 'disabled' if @pages / @pagination * @pagination <= @page )}
                %a{ :data => { :offset => (@page / @pagination +1) * @pagination * @limit }} >>
                    
              %li{ :class => ( 'disabled' if @offset == @limit * @pages )}
                %a{ :data => { :offset => @offset + @limit }} volgende